"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[387],{8898:(n,e,o)=>{o.r(e),o.d(e,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>t,metadata:()=>i,toc:()=>c});var r=o(4848),s=o(8453);const t={sidebar_position:3},a="Running",i={id:"running",title:"Running",description:"Prerequisites",source:"@site/docs/running.md",sourceDirName:".",slug:"/running",permalink:"/cardano-db-sync/running",draft:!1,unlisted:!1,editUrl:"https://github.com/sgillespie/cardano-db-sync/tree/docs/docusaurus/doc/docusaurus/docs/running.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Installing with Cabal",permalink:"/cardano-db-sync/Installation/installing"},next:{title:"State Snapshots",permalink:"/cardano-db-sync/state-snapshot"}},d={},c=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Download Configuration Files",id:"download-configuration-files",level:2},{value:"Start Cardano Node",id:"start-cardano-node",level:2},{value:"Start the DB Sync Node",id:"start-the-db-sync-node",level:2}];function l(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.h1,{id:"running",children:"Running"}),"\n",(0,r.jsx)(e.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,r.jsx)(e.p,{children:"This guide assumes you have the following tools:"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://git-scm.com/download",children:"Git"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"https://github.com/input-output-hk/cardano-node-wiki/blob/main/docs/getting-started/install.md",children:"Cardano Node"})}),"\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.a,{href:"installing.md",children:"Cardano DB Sync"})}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"download-configuration-files",children:"Download Configuration Files"}),"\n",(0,r.jsx)(e.p,{children:"Create a directory to store configs"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"mkdir -p ~/src/cardano-environments/{mainnet,preprod,preview,sanchonet}\ncd ~/src/cardano-environments\n"})}),"\n",(0,r.jsxs)(e.p,{children:["Download the configuration files for the desired environment here:\n",(0,r.jsx)(e.a,{href:"https://book.world.dev.cardano.org/environments.html",children:"https://book.world.dev.cardano.org/environments.html"})]}),"\n",(0,r.jsx)(e.p,{children:"For example, the following commands will download mainnet configs:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"curl --remote-name-all --output-dir mainnet \\\n    https://book.world.dev.cardano.org/environments/mainnet/config.json \\\n    https://book.world.dev.cardano.org/environments/mainnet/db-sync-config.json \\\n    https://book.world.dev.cardano.org/environments/mainnet/submit-api-config.json \\\n    https://book.world.dev.cardano.org/environments/mainnet/topology.json \\\n    https://book.world.dev.cardano.org/environments/mainnet/byron-genesis.json \\\n    https://book.world.dev.cardano.org/environments/mainnet/shelley-genesis.json \\\n    https://book.world.dev.cardano.org/environments/mainnet/alonzo-genesis.json \\\n    https://book.world.dev.cardano.org/environments/mainnet/conway-genesis.json\n"})}),"\n",(0,r.jsx)(e.h2,{id:"start-cardano-node",children:"Start Cardano Node"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"cardano-node run \\\n    --config ~/src/cardano-environments/config.json\n    --topology ~/src/cardano-environments/topology.json \\\n    --database-path ~/src/cardano-environments/mainnet/db \\\n    --socket-path node.socket \\\n    --host-addr 0.0.0.0\n"})}),"\n",(0,r.jsx)(e.h2,{id:"start-the-db-sync-node",children:"Start the DB Sync Node"}),"\n",(0,r.jsxs)(e.p,{children:["Open another terminal and enter the ",(0,r.jsx)(e.code,{children:"cardano-db-sync"})," repository directory:"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"cd ~/src/cardano-db-sync\n"})}),"\n",(0,r.jsxs)(e.p,{children:["Finally, we can start ",(0,r.jsx)(e.code,{children:"cardano-db-sync"}),":"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"PGPASSFILE=config/pgpass-mainnet cardano-db-sync -- \\\n    --config ~/src/cardano-environments/db-sync-config.json \\\n    --socket-path ~/src/cardano-environments/mainnet/node.socket \\\n    --state-dir ~/src/cardano-environments/mainnet/ledger-state \\\n    --schema-dir schema/\n"})})]})}function h(n={}){const{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(l,{...n})}):l(n)}},8453:(n,e,o)=>{o.d(e,{R:()=>a,x:()=>i});var r=o(6540);const s={},t=r.createContext(s);function a(n){const e=r.useContext(t);return r.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function i(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:a(n.components),r.createElement(t.Provider,{value:e},n.children)}}}]);